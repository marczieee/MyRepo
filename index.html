<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Will You Be My Valentine?</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Quicksand:wght@400;500;600&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    .card-gradient {
      background: linear-gradient(135deg, #ff1744 0%, #ff4081 35%, #ff69b4 65%, #ffb6c1 100%);
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes confetti-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(800px) rotate(720deg); opacity: 0; }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 182, 193, 0.4); }
      50% { box-shadow: 0 0 40px rgba(255, 182, 193, 0.8), 0 0 60px rgba(168, 212, 240, 0.4); }
    }
    
    @keyframes bounce-in {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes wiggle {
      0%, 100% { transform: rotate(-3deg); }
      50% { transform: rotate(3deg); }
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      top: -20px;
      animation: confetti-fall linear forwards;
      pointer-events: none;
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    .sparkle {
      position: absolute;
      width: 20px;
      height: 20px;
      animation: sparkle 1.5s ease-in-out infinite;
    }
    
    .card-container {
      animation: pulse-glow 3s ease-in-out infinite;
    }
    
    .bounce-in {
      animation: bounce-in 0.6s ease-out forwards;
    }
    
    .wiggle {
      animation: wiggle 0.5s ease-in-out;
    }
    
    .cake-emoji {
      font-size: 4rem;
      cursor: pointer;
      transition: transform 0.3s ease;
      display: inline-block;
    }
    
    .cake-emoji:hover {
      transform: scale(1.2);
    }
    
    .gift-box {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .gift-box:hover {
      transform: scale(1.1) rotate(-5deg);
    }
    
    .balloon {
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    
    .balloon:hover {
      transform: translateY(-10px);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full m-0 p-0 overflow-auto">
  <div id="app" class="card-gradient w-full h-full flex items-center justify-center p-4 relative overflow-hidden"><!-- Sparkles Background -->
   <div id="sparkles-container" class="absolute inset-0 pointer-events-none"></div><!-- Confetti Container -->
   <div id="confetti-container" class="absolute inset-0 pointer-events-none overflow-hidden"></div><!-- Floating Hearts -->
   <div class="absolute left-8 top-20 balloon" onclick="popBalloon(this)" style="animation: float 4s ease-in-out infinite; animation-delay: 0s;"><span class="text-6xl">üíï</span>
   </div>
   <div class="absolute right-12 top-32 balloon" onclick="popBalloon(this)" style="animation: float 3.5s ease-in-out infinite; animation-delay: 0.5s;"><span class="text-5xl">‚ù§Ô∏è</span>
   </div>
   <div class="absolute left-16 bottom-32 balloon" onclick="popBalloon(this)" style="animation: float 4.5s ease-in-out infinite; animation-delay: 1s;"><span class="text-6xl">üíñ</span>
   </div>
   <div class="absolute right-8 bottom-20 balloon" onclick="popBalloon(this)" style="animation: float 3s ease-in-out infinite; animation-delay: 1.5s;"><span class="text-5xl">üíó</span>
   </div><!-- Main Card -->
   <div class="card-container bg-white/90 backdrop-blur-sm rounded-3xl p-8 md:p-12 max-w-lg w-full text-center relative z-10 shadow-2xl"><!-- Decorative Stars -->
    <div class="absolute -top-4 -left-4">
     <svg class="sparkle" style="animation-delay: 0s;" width="30" height="30" viewbox="0 0 30 30"><path d="M15 0 L17 12 L30 15 L17 18 L15 30 L13 18 L0 15 L13 12 Z" fill="#ffd700" />
     </svg>
    </div>
    <div class="absolute -top-2 -right-6">
     <svg class="sparkle" style="animation-delay: 0.5s;" width="25" height="25" viewbox="0 0 30 30"><path d="M15 0 L17 12 L30 15 L17 18 L15 30 L13 18 L0 15 L13 12 Z" fill="#ff9eb5" />
     </svg>
    </div>
    <div class="absolute -bottom-3 right-8">
     <svg class="sparkle" style="animation-delay: 1s;" width="20" height="20" viewbox="0 0 30 30"><path d="M15 0 L17 12 L30 15 L17 18 L15 30 L13 18 L0 15 L13 12 Z" fill="#a8d4f0" />
     </svg>
    </div><!-- Rose with Animation -->
    <div class="float-animation mb-4"><span id="cake" class="cake-emoji text-7xl" onclick="celebrateCake()">üåπ</span>
    </div><!-- Main Question -->
    <h1 id="main-title" class="text-3xl md:text-4xl font-bold mb-4" style="font-family: 'Playfair Display', serif; background: linear-gradient(135deg, #ff1744, #ff4081, #ff69b4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Will You Be My</h1><!-- Name -->
    <h2 id="recipient" class="text-5xl md:text-6xl font-bold mb-6" style="font-family: 'Playfair Display', serif; color: #ff1744;">Valentine?</h2><!-- Message - Hidden until Yes -->
    <p id="message" class="text-lg md:text-xl mb-8 opacity-0 transition-opacity duration-500" style="font-family: 'Quicksand', sans-serif; color: #6b7280; line-height: 1.8;">Life is better when you're by my side. ‚ú® Let's celebrate love together!</p><!-- Interactive Yes/No Buttons -->
    <div class="flex gap-4 justify-center mb-6"><button id="yes-btn" onclick="answerYes()" class="px-8 py-3 rounded-full text-white font-semibold text-lg transition-all duration-300 hover:scale-110 hover:shadow-lg active:scale-95 shadow-lg" style="font-family: 'Quicksand', sans-serif; background: linear-gradient(135deg, #ff1744, #ff4081); border: none; cursor: pointer;"> Yes! üíï </button> <button id="no-btn" onclick="answerNo()" class="px-8 py-3 rounded-full text-white font-semibold text-lg transition-all duration-300 hover:shadow-lg active:scale-95" style="font-family: 'Quicksand', sans-serif; background: #cccccc; border: none; cursor: pointer;"> No </button>
    </div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      recipient_name: 'My Love',
      main_message: 'Life is better when you\'re by my side. ‚ú® Let\'s celebrate love together!',
      yes_button_text: 'Yes! üíï',
      no_button_text: 'No',
      background_color: '#ff1744',
      accent_color: '#ff4081',
      text_color: '#6b7280',
      font_family: 'Playfair Display',
      font_size: 16
    };
    
    let config = { ...defaultConfig };
    
    // Element SDK Integration
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (newConfig) => {
          config = { ...defaultConfig, ...newConfig };
          updateUI();
        },
        mapToCapabilities: (cfg) => ({
          recolorables: [
            {
              get: () => cfg.background_color || defaultConfig.background_color,
              set: (value) => {
                cfg.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => cfg.accent_color || defaultConfig.accent_color,
              set: (value) => {
                cfg.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            },
            {
              get: () => cfg.text_color || defaultConfig.text_color,
              set: (value) => {
                cfg.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => cfg.font_family || defaultConfig.font_family,
            set: (value) => {
              cfg.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => cfg.font_size || defaultConfig.font_size,
            set: (value) => {
              cfg.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ['recipient_name', cfg.recipient_name || defaultConfig.recipient_name],
          ['main_message', cfg.main_message || defaultConfig.main_message],
          ['yes_button_text', cfg.yes_button_text || defaultConfig.yes_button_text],
          ['no_button_text', cfg.no_button_text || defaultConfig.no_button_text]
        ])
      });
    }
    
    function updateUI() {
      const recipientEl = document.getElementById('recipient');
      const messageEl = document.getElementById('message');
      const yesBtnEl = document.getElementById('yes-btn');
      const noBtnEl = document.getElementById('no-btn');
      const appEl = document.getElementById('app');
      const mainTitle = document.getElementById('main-title');
      
      const message = config.main_message || defaultConfig.main_message;
      const yesText = config.yes_button_text || defaultConfig.yes_button_text;
      const noText = config.no_button_text || defaultConfig.no_button_text;
      const accentColor = config.accent_color || defaultConfig.accent_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const bgColor = config.background_color || defaultConfig.background_color;
      const fontFamily = config.font_family || defaultConfig.font_family;
      const fontSize = config.font_size || defaultConfig.font_size;
      
      recipientEl.style.color = accentColor;
      recipientEl.style.fontFamily = `${fontFamily}, serif`;
      recipientEl.style.fontSize = `${fontSize * 3.5}px`;
      
      messageEl.textContent = message;
      messageEl.style.color = textColor;
      messageEl.style.fontFamily = `${fontFamily}, Quicksand, sans-serif`;
      messageEl.style.fontSize = `${fontSize * 1.25}px`;
      
      yesBtnEl.textContent = yesText;
      noBtnEl.textContent = noText;
      
      mainTitle.style.fontFamily = `${fontFamily}, serif`;
      mainTitle.style.fontSize = `${fontSize * 2.5}px`;
      
      // Update gradient background
      appEl.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${accentColor}40 50%, ${accentColor}20 100%)`;
    }
    
    // Confetti colors - romantic palette
    const confettiColors = ['#ff1744', '#ff4081', '#ff69b4', '#ffb6c1', '#ffd700', '#ff6b9d'];
    
    function createConfetti() {
      const container = document.getElementById('confetti-container');
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      
      const color = confettiColors[Math.floor(Math.random() * confettiColors.length)];
      const left = Math.random() * 100;
      const size = Math.random() * 10 + 5;
      const duration = Math.random() * 3 + 2;
      const shape = Math.random() > 0.5 ? 'circle' : 'square';
      
      confetti.style.left = left + '%';
      confetti.style.width = size + 'px';
      confetti.style.height = size + 'px';
      confetti.style.backgroundColor = color;
      confetti.style.borderRadius = shape === 'circle' ? '50%' : '2px';
      confetti.style.animationDuration = duration + 's';
      
      container.appendChild(confetti);
      
      setTimeout(() => {
        confetti.remove();
      }, duration * 1000);
    }
    
    function answerYes() {
      // Reveal the message
      const messageEl = document.getElementById('message');
      messageEl.classList.remove('opacity-0');
      messageEl.classList.add('opacity-100');
      
      // Massive celebration
      for (let i = 0; i < 100; i++) {
        setTimeout(() => createConfetti(), i * 10);
      }
      
      // Wiggle the card
      const card = document.querySelector('.card-container');
      card.classList.add('wiggle');
      setTimeout(() => card.classList.remove('wiggle'), 500);
      
      // Bounce the rose
      const rose = document.getElementById('cake');
      rose.classList.add('bounce-in');
      setTimeout(() => rose.classList.remove('bounce-in'), 600);
      
      // Add decorative hearts around message
      addDecorativeHearts();
      
      // Show success message
      const yesBtn = document.getElementById('yes-btn');
      const originalText = yesBtn.textContent;
      yesBtn.textContent = 'You made me the happiest! ';
      yesBtn.disabled = true;
      setTimeout(() => {
        yesBtn.textContent = originalText;
        yesBtn.disabled = false;
      }, 3000);
    }
    
    function addDecorativeHearts() {
      const messageEl = document.getElementById('message');
      const heartLeft = document.createElement('span');
      const heartRight = document.createElement('span');
      
      heartLeft.innerHTML = 'üíñ ';
      heartRight.innerHTML = ' üíñ';
      heartLeft.style.animation = 'float 2s ease-in-out infinite';
      heartRight.style.animation = 'float 2s ease-in-out infinite';
      heartRight.style.animationDelay = '0.5s';
      
      messageEl.insertBefore(heartLeft, messageEl.firstChild);
      messageEl.appendChild(heartRight);
    }
    
    function answerNo() {
      // No button runs away!
      const noBtn = document.getElementById('no-btn');
      noBtn.style.position = 'relative';
      
      const randomX = (Math.random() - 0.5) * 200;
      const randomY = (Math.random() - 0.5) * 200;
      
      noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
      
      setTimeout(() => {
        noBtn.style.transform = 'translate(0, 0)';
      }, 500);
    }
    
    function celebrateCake() {
      const cake = document.getElementById('cake');
      cake.style.transform = 'scale(1.3)';
      setTimeout(() => {
        cake.style.transform = 'scale(1)';
      }, 200);
      
      // Small confetti burst
      for (let i = 0; i < 20; i++) {
        setTimeout(() => createConfetti(), i * 50);
      }
    }
    
    function popBalloon(heart) {
      heart.style.transform = 'scale(1.4)';
      setTimeout(() => {
        heart.style.opacity = '0';
        heart.style.transform = 'scale(0)';
        
        // Small confetti burst where heart was
        for (let i = 0; i < 15; i++) {
          setTimeout(() => createConfetti(), i * 30);
        }
        
        // Restore heart after delay
        setTimeout(() => {
          heart.style.opacity = '1';
          heart.style.transform = 'scale(1)';
        }, 2000);
      }, 150);
    }
    
    // Initial sparkle animation with continuous confetti
    setInterval(() => {
      if (Math.random() > 0.7) {
        createConfetti();
      }
    }, 500);
    
    // Initial celebration on load
    setTimeout(() => {
      for (let i = 0; i < 20; i++) {
        setTimeout(() => createConfetti(), i * 50);
      }
    }, 500);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cb46562553cdd4e',t:'MTc3MDY1MDkwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>